% \newcommand*{\NoMarkdown}{}

%TODO: once the text is "finished": [see sublime note]
% see also: https://www.wiwi.uni-osnabrueck.de/fileadmin/documents/public/3_fachgebiete/3.11_mikro/Guidelines/Guidelines_Thesis.pdf

% NoMarkdown and Twoside are compile-commands, see https://tex.stackexchange.com/a/220101/108199, https://tex.stackexchange.com/a/22525/108199, https://tex.stackexchange.com/a/33577/108199

\ifdefined\ForPrinting
	\PassOptionsToClass{twoside}{scrreprt}
	\PassOptionsToPackage{colorlinks=false}{hyperref}
\else
	\PassOptionsToPackage{colorlinks=true}{hyperref}
\fi

\documentclass[11pt,
  paper=a4, 
%   twoside,
%   openright,
  hidelinks,
  bibliography=totocnumbered,
	captions=tableheading,
	BCOR=10mm
]{scrreprt}

% ====================== /parts from MastersDoctoralThesis.cls ======================
%	HEADERS AND FOOTERS

\usepackage[automark,headsepline]{scrlayer-scrpage} %https://esc-now.de/_/latex-individuelle-kopf--und-fusszeilen-update/?lang=de
\pagestyle{scrheadings}
\clearpairofpagestyles
% \automark*[section]{chapter} %[] = right side, {} = left side
\ifdefined\ForPrinting
	\automark*[section]{chapter}
\else
	\automark*[chapter]{section}
\fi
% TODO: maybe have a SEPARATE automark for ONE-sided, wo's section ist?!
\ihead{\headmark}% Inner header
\ohead[\pagemark]{\pagemark}% Outer header
\ifoot{}% Inner footer
\ofoot{}% Outer footer
%TODO: check vor dem Drucken, ich bin gerade etwas verwirrt was wo wann. 
% Ich dachte bei Okular: View Mode -> "Facing Pages, first centered" ist wie ich es gedruckt auch hab, aber scheinbar krieg ich genau die non-facing pages da als facing angezeigt? Und for some reason geht nur \automark[section]{chapter} und nicht \automark[chapter]{section}, was falsch rum aussieht? wie dumm?! Wenn ich das mit Okular wie gesagt anzeige sind halt auch inner und outer head vertauscht... Maybe I need the doc-class-option "openright"?? 
%TODO: create final PDF at least twice, once with twoside and once without
%TODO: on the two-sided version, addtitionally have \automark*[section]{chapter}

% ====================== /parts from MastersDoctoralThesis.cls ======================


\usepackage[T1]{fontenc}
\usepackage{ textcomp }
% \usepackage{mdframed}
% \usepackage{ntheorem}
% \theoremstyle{nonumberplain} %https://tex.stackexchange.com/a/79101/108199
% \newmdtheoremenv[outerlinewidth=2,leftmargin=10,%
% rightmargin=10,innertopmargin=\topskip,%
% splittopskip=\topskip,skipbelow=\baselineskip,%
% skipabove=\baselineskip,ntheorem]{cs}{Conceptual Space}
% \newmdtheoremenv{cs}{Conceptual Space}
% fucking shit is incompatible with ams-packages

% https://tex.stackexchange.com/a/30040/108199
\usepackage{amsthm}
\theoremstyle{plain}


\newcommand{\saveref}[2]{\texorpdfstring{\hyperref[#1]{#2}}{#2}}


% ====
% https://tex.stackexchange.com/a/135731/108199
\newcounter{saveenumerate}
\makeatletter
\newcommand{\enumeratext}[1]{%
	\setcounter{saveenumerate}{\value{enum\romannumeral\the\@enumdepth}}
	\end{enumerate}
	#1
	\begin{enumerate}
	\setcounter{enum\romannumeral\the\@enumdepth}{\value{saveenumerate}}%
}
\makeatother

\usepackage{changepage} %https://tex.stackexchange.com/a/594/108199
\newcommand{\itemtextCore}[1]{%
	\begin{adjustwidth}{0.2\textwidth}{0cm}
	\begin{flushright}
	{   
		\parskip=0pt
		\small
		\vspace{-0.55em}
		\textit{#1}
		\vspace{-0.55em}
	}
	\end{flushright}
	\end{adjustwidth}
}

\newcommand{\itemtext}[1]{%
	\end{itemize} 
	\itemtextCore{#1}
	\begin{itemize}
}
% for the last one I have to use this, because otherwise I'll get a "missing \item" error
\newcommand{\lastitemtext}[1]{%
	\end{itemize} 
	\itemtextCore{#1}
}

% ===

\usepackage{syllogism}
\input{redefinesyllog.tex}
% https://tex.stackexchange.com/a/493338/108199 by default there is no effing way to change the width of a syllogism, how fucking stupid is that
% yo what the fuck is even the point of that package.
\usepackage{amssymb}
\newcommand\syllogism[3][]{%
%   \begin{center}
  \def\tmp{#1}%
  \ifx\tmp\empty\else(#1)\quad\fi
  \begin{tabular}{@{}l@{}}
    #2\\\hline#3\quad$\therefore$
  \end{tabular}
%   \end{center}
}
% https://tex.stackexchange.com/a/577867/108199


\usepackage{array}
\usepackage{ragged2e}
\newcolumntype{P}[1]{>{\RaggedRight\arraybackslash\hspace{0pt}}p{#1}}


\usepackage[utf8]{inputenc}
 
\usepackage{afterpage} % https://tex.stackexchange.com/a/78285/108199

\usepackage{makecell} % linebreaks in tables, see https://tex.stackexchange.com/a/176780/108199
\renewcommand{\cellalign}{vh}
\usepackage{lscape} % landscape tables
\usepackage{footnote}
\makesavenoteenv{tabular} % this line and line above see https://tex.stackexchange.com/a/109471/108199
\newcommand{\specialcell}[2][l]{%
  \begin{tabular}[#1]{@{}l@{}}#2\end{tabular}} %https://tex.stackexchange.com/a/19678/108199
\newcommand{\tabitem}{\textbullet~~}


\usepackage{geometry}
\geometry{a4paper, bottom=20mm}

%\usepackage[text={7in,10in},centering]{geometry}  %such that appendices etc can define new margins etc
\usepackage{caption}  % https://tex.stackexchange.com/a/176175/108199
\captionsetup[table]{position=below} 

\usepackage[anythingbreaks]{breakurl}
\usepackage[onehalfspacing]{setspace}
\usepackage{amsmath} % Standard math.
\usepackage{amsthm} % Math theorems.
\usepackage{amssymb} % More math symbols.
\usepackage{dsfont} % Render |R and the like
\usepackage[british]{babel} %was [english] (see note of underscore), is now [british] 

% https://tex.stackexchange.com/a/142973/108199
\usepackage[useregional]{datetime2}

\usepackage{underscore} % I need underscore to not have to write "\_" for underscores, but that would break labels with unterscores in it unless I also include babel, see https://tex.stackexchange.com/a/121438/108199
\theoremstyle{definition}
\newtheorem{definition}{Definition}[chapter]
 
% for https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.to_latex.html, https://pandas.pydata.org/docs/reference/api/pandas.io.formats.style.Styler.to_latex.html:
\usepackage{booktabs} 
\usepackage{multirow} 
\usepackage{tablefootnote}
\usepackage[table,dvipsnames]{xcolor} %dvipsnames for yaml-code-listings
\usepackage{siunitx}
\colorlet{lightgreen}{green!40!white}
\newcommand{\bst}{{\cellcolor{lightgreen}}}
\usepackage{etoolbox}
\robustify\bfseries
\robustify\itshape
% end 

\usepackage{subcaption}
\usepackage{lipsum}
\usepackage{pdflscape} % if this is used, those pages within {landscape} are turned when viewed digitally (https://tex.stackexchange.com/a/141444/108199)
\usepackage{footmisc}

\usepackage[section]{placeins} %for FloatBarrier, https://tex.stackexchange.com/a/282/108199
% Keep floats in the section they were defined in.

\makeatletter
\AtBeginDocument{%
  \expandafter\renewcommand\expandafter\subsection\expandafter{%
    \expandafter\@fb@secFB\subsection
  }%
}
\makeatother
% let subsections also be float-barriers, https://tex.stackexchange.com/a/118667/108199


\usepackage{url}
\usepackage{tabularx}
\usepackage{booktabs} % Scientific table styling.
\usepackage{floatrow} % Option for keeping floats in the place they were defined in the code.
\floatsetup[table]{style=plaintop, capposition=bottom}
% \usepackage[breaklinks=true]{hyperref} % Hyperlinks.
\usepackage[pdftex,
	   breaklinks=true,%
       bookmarks=true,%
       bookmarksopen=true,
       bookmarksopenlevel=0,
       bookmarksnumbered=false,
       plainpages=false,
       hyperindex=true,
       pdfstartview=%
 ]{hyperref} % why so many options? https://golatex.de/viewtopic.php?p=22119&sid=ebe25f27fce1765ab7d8b1d2e91ee979#p22119
\usepackage{bookmark} %also https://golatex.de/viewtopic.php?p=22119&sid=ebe25f27fce1765ab7d8b1d2e91ee979#p22119
\addto\extrasenglish{\def\sectionautorefname{Section}}
\addto\extrasbritish{\def\sectionautorefname{Section}}
\addto\extrasenglish{\def\subsectionautorefname{Section}}
\addto\extrasbritish{\def\subsectionautorefname{Section}}
\addto\extrasenglish{\def\subsubsectionautorefname{Section}}
\addto\extrasbritish{\def\subsubsectionautorefname{Section}}
\addto\extrasenglish{\def\paragraphautorefname{Subsection}}
\addto\extrasbritish{\def\paragraphautorefname{Subsection}}
%https://github.com/Cryptosaurus/iacrtrans/issues/9#issuecomment-562347502



\usepackage[all]{nowidow} % Prevent widows and orphans.
\usepackage{xstring} % logic string operations
\usepackage{bbm} % \mathbb on numerals.
\usepackage{mathtools}
\usepackage[ruled,vlined]{algorithm2e} % Pseudocode
\usepackage{scrhack} % Make warning go away.
\usepackage{graphicx}
\usepackage{subcaption} % Subfigures with subcaptions.
\usepackage{authoraftertitle} % Make author, etc., available after \maketitle
\usepackage{listofitems}
\usepackage{blindtext} % Placeholder text.

\input{glossary_template.tex}
\input{glossary_contents.tex}
\makeglossaries    

% START Acronym definitions
\newacronym{svm}{SVM}{Support Vector Machine}
\newacronym{mds}{MDS}{Multi Dimensional Scaling}
\newacronym{ppmi}{PPMI}{Positive Pointwise Mutual Information}
\newacronym{imdb}{IMDB}{Internet Movie Database}
\newacronym{tf-idf}{tf-idf}{term frequency $\times$ inverse document frequency algorithm}
\newacronym{os}{OS}{Operating System}
\newacronym{ikw}{IKW}{Institut für Kognitionswissenschaften}
\newacronym{dag}{DAG}{Directed Acyclic Graph}
\newacronym{ram}{RAM}{Random Access Memory}
\newacronym{cpu}{CPU}{Central Processing Unit}
\newacronym{sge}{SGE}{Sun Grid Engine}
\newacronym{cli}{CLI}{Command Line Interface}
\newacronym{uos}{UOS}{University of Osnabrück}
\newacronym{pos}{POS}{Part-of-Speech}
\newacronym{bert}{BERT}{Bidirectional Encoder Representations from Transformers}
\newacronym{ann}{ANN}{Artificial Neural Network}
\newacronym{ml}{ML}{Machine Learning}
\newacronym{dsa}{DSA}{Digital Study Assistant}
\newacronym{tf}{tf}{Term Frequency}
\newacronym{df}{df}{Document Frequency}
\newacronym{lms}{LMS}{Learning Management System}
\newacronym{oer}{OER}{Open Educational Resource}
\newacronym{ddc}{DDC}{Dewey Decimal Classification}
\newacronym{dt}{DT}{Decision Tree}
\newacronym{nlp}{NLP}{Natural Language Processing}
\newacronym{vsm}{VSM}{Vector Space Model}
\newacronym{cl}{CL}{Computational Linguistics}
\newacronym{cs}{CS}{Conceptual Space}
\newacronym{rcc}{RCC}{Region Connection Calculus}
% END Acronym definitions
%TODO: update acronym script for Plural!!
%TODO: also let the acronym script define eg. an \svm command that is just an alias for \gls{svm} and an \svms for \glspl{svm}
\newacronym[plural=MOOCs]{mooc}{MOOC}{Massive Open Online Course}
\newacronym[plural=BoWs, firstplural=Bags of Words]{bow}{BoW}{Bag of Words}
\newacronym{tsne2}{t-SNE}{T-distributed Stochastic Neighbor Embedding}
\newacronym{lda}{LDA}{Latent Dirichlet Allocation (see \autoref{sec:lda})}

\glsunset{cpu}
\glsunset{ram}

% ================== biblatex stuff ==================
\newcommand\posscite[1]{\citeauthor{#1}'s \cite{#1}}
\newcommand\gencite[1]{\citeauthor{#1}'s \cite{#1}} %https://tex.stackexchange.com/a/22279/108199

% \PassOptionsToPackage{obeyspaces}{url}%
\usepackage[
	backend=bibtex,% 
	style=nature,% 
	doi=true,
	isbn=false,
	url=false, 
	eprint=false
	]{biblatex}
% \renewbibmacro*{url}{\printfield{urlraw}}

\addbibresource{mendeley_bibs/Masterarbeit.bib}

\DeclareStyleSourcemap{
  \maps[datatype=bibtex, overwrite=true]{
    \map{
      \step[fieldsource=url, final]
      \step[typesource=misc, typetarget=online]
    }
    \map{
      \step[typesource=misc, typetarget=patent, final]
      \step[fieldsource=institution, final]
      \step[fieldset=holder, origfieldval]
    }
  }
}

% ================
% https://tex.stackexchange.com/a/468286/108199 
\DeclareCiteCommand{\fancyquotecite}
  {\usebibmacro{prenote}}
  {\usebibmacro{citeindex}%
   \usebibmacro{fancyquotecite}}
  {\multicitedelim}
  {\usebibmacro{postnote}}

\newbibmacro{fancyquotecite}{%
  \printnames[given-family]{labelname}%
  \setunit{\addcomma\space}%
  \printfield{maintitle}%
  \setunit{\addcomma\space}%
  \printfield{booktitle}%
  \setunit{\addcomma\space}%
  \printfield{title}%
}
% ================

\usepackage{dirtytalk} %https://de.overleaf.com/learn/latex/Typesetting_quotations
% \usepackage{csquotes} % Context sensitive quotation.
\usepackage[autostyle=false, style=english]{csquotes}
\newcommand{\q}[1]{\enquote{#1}} %\hspace{-0.5ex}
% \MakeOuterQuote{"} %https://tex.stackexchange.com/a/216166/108199 to auto-replace " with `` '' (parity must be given)
% See also regarding quotation:
% IEEE Standard: https://libraryguides.vu.edu.au/ieeereferencing/gettingstarted
% https://de.overleaf.com/learn/latex/Typesetting_quotations, https://www.andy-roberts.net/writing/latex/formatting, https://wiki.carleton.edu/download/attachments/20155418/textguide.pdf?version=1&modificationDate=1387231254000&api=v2

% ===============
% "go back" link for references
% https://tex.stackexchange.com/a/237512/108199
\usepackage{textcomp}

\ifdefined\ForPrinting
	\newcommand{\arrowref}[1]{\ignorespaces}	
\else
	\renewbibmacro*{pageref}{%
	%   \printtext[parens]{%
		\Acrobatmenu{GoBack}{\textsuperscript{\textuparrow}}%
	%   }%
	}
	\newcommand{\arrowref}[1]{\texorpdfstring{\hyperref[#1]{\textsuperscript{\textuparrow}}}{}}
\fi

% ================== END biblatex stuff ==================

%\linespread{1.5} % set line spacing

\DeclareFontFamily{U}{mathx}{\hyphenchar\font45}
\DeclareFontShape{U}{mathx}{m}{n}{
      <5> <6> <7> <8> <9> <10>
      <10.95> <12> <14.4> <17.28> <20.74> <24.88>
      mathx10
      }{}
\DeclareSymbolFont{mathx}{U}{mathx}{m}{n}
\DeclareFontSubstitution{U}{mathx}{m}{n}
\DeclareMathSymbol{\bigtimes}{1}{mathx}{"91}


 

%%% Custom definitions %%%
\usepackage{xspace} % https://tex.stackexchange.com/a/31092/108199
\newcommand{\me}{the author of this thesis\xspace}
\newcommand{\my}{the author's\xspace}

% Shorthands
\newcommand{\ie}{i.\,e.~}
\newcommand{\eg}{e.\,g.~}
\newcommand{\wrt}{w.\,r.\,t.~}
\newcommand{\ind}{\mathbbm{1}}
\DeclarePairedDelimiter{\norm}{\lVert}{\rVert} 
% Functions
\newcommand{\tpow}[1]{\cdot 10^{#1}}
\newcommand{\fref}[1]{Figure~\ref{#1}}
\newcommand{\figref}[1]{Figure~\ref{#1}}
\newcommand{\figureref}[1]{Figure~\ref{#1}}
\newcommand{\tref}[1]{Table~\ref{#1}}
\newcommand{\aref}[1]{Appendix~\ref{#1}}
\newcommand{\tabref}[1]{(Table~\ref{#1})}
\newcommand{\tableref}[1]{Table~\ref{#1}}
\newcommand{\secref}[1]{%
	\IfBeginWith{#1}{chap:}{%
		(cf. Chapter \ref{#1})}%
		{(cf. Section \ref{#1})}%
		}
\newcommand{\sectionref}[1]{%
	\IfBeginWith{#1}{chap:}{%
		Chapter \ref{#1}}%
		{\IfBeginWith{#1}{s}{%
			Section \ref{#1}}%
			{[\PackageError{sectionref}{Undefined option to sectionref: #1}{}]}}}
\newcommand{\chapref}[1]{(see chapter \ref{#1})}
% \newcommand{\unit}[1]{\,\mathrm{#1}}
\newcommand{\unitfrac}[2]{\,\mathrm{\frac{#1}{#2}}}
\newcommand{\codeil}[1]{\lstinline{#1}}{} % wrapper for preventing syntax highlight error
\newcommand{\techil}[1]{\texttt{#1}}
\newcommand{\Set}[2]{%
  \{\, #1 \mid #2 \, \}%
}
% Line for signature.
\newcommand{\namesigdate}[1][5cm]{%
	\vspace{5cm}
	{\setlength{\parindent}{0cm}
	\begin{minipage}{0.3\textwidth}
		\hrule 
		\vspace{0.5cm}
		{\small city, date}
	\end{minipage}
	 \hfill
	\begin{minipage}{0.3\textwidth}
		\hrule
		\vspace{0.5cm}
	    {\small signature}
	\end{minipage}
	}
}
% Automatically use the first sentence in a caption as the short caption.
\newcommand\slcaption[1]{\setsepchar{.}\readlist*\pdots{#1}\caption[{\pdots[1].}]{#1}}

% Variables. 
% Adapt if necessary, use to refer to figures and graphics.
\def \figwidth {0.9\linewidth}
\graphicspath{ {./graphics/figures/}{./graphics/figures/} } % Path to figures and images.

% Pandoc creates tightlists (https://tex.stackexchange.com/a/258486/108199)
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}

% Customizations of existing commands.

% vec-command to be used in text and mathmode. If called with \vec[m]{a} it's math-mode, default text.
\renewcommand{\vec}[2][t]{%
	\IfEqCase{#1}{%
		{m}{\mathbf{#2}}%
		{t}{\textbf{#2}}%
	}[\PackageError{tree}{Undefined option to vec: #1}{}]%
}%



% Capitalized \autoref names.
\renewcommand*{\chapterautorefname}{Chapter}
\renewcommand*{\sectionautorefname}{Section}

%have multiple references to the same footnote, see https://tex.stackexchange.com/a/35044/108199
\usepackage{cleveref}
\crefformat{footnote}{#2\footnotemark[#1]#3} %https://tex.stackexchange.com/a/10116/108199
\makeatletter 
\newcommand\footnoteref[1]{\protected@xdef\@thefnmark{\ref{#1}}\@footnotemark}
\makeatother
%....but the above doesn't work for tables, so we need something else as well, see https://tex.stackexchange.com/a/95905/108199
\usepackage{scrextend}


\title{Data-Driven Embedding of Educational Resources in a Vector Space with Interpretable Dimensions for Explainable Recommendation}
\author{Christoph Stenkamp}


% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
% see https://github.com/jgm/pandoc/issues/4941#issuecomment-425975499, https://github.com/jgm/pandoc/issues/4384#issuecomment-367585913

\usepackage{enumitem} % long descriptions

% https://stackoverflow.com/a/13120787/5122790
\setlistdepth{9}
\setlist[itemize,1]{label=$\bullet$}
\setlist[itemize,2]{label=$\bullet$}
\setlist[itemize,3]{label=$\bullet$}
\setlist[itemize,4]{label=$\bullet$}
\setlist[itemize,5]{label=$\bullet$}
\setlist[itemize,6]{label=$\bullet$}
\setlist[itemize,7]{label=$\bullet$}
\setlist[itemize,8]{label=$\bullet$}
\setlist[itemize,9]{label=$\bullet$}
\renewlist{itemize}{itemize}{9}

% ##################################################################################
% === CODE LISTINGS ===

\usepackage{listings} % rendering program code

\newfloat{lstfloat}{htbp}{lop}
\floatname{lstfloat}{Listing}
\def\lstfloatautorefname{Listing} % needed for hyperref/auroref


\lstset{% general command to set parameter(s)
	basicstyle=\ttfamily\color{grey},          % print whole listing small
	keywordstyle=\color{black}\bfseries\underbar,
	% underlined bold black keywords
	identifierstyle=,           % nothing happens
	commentstyle=\color{white}, % white comments
	stringstyle=\ttfamily,      % typewriter type for strings
	showstringspaces=false}     % no special string spaces


% === Taken from my BA ===
\usepackage{pifont}% http://ctan.org/pkg/pifont for \ding (used in listing)
\definecolor{verylightgray}{gray}{0.92}
\definecolor{evenmorelightgray}{gray}{0.95}

\newlength\lsthorizontalpadding
\setlength\lsthorizontalpadding{3pt}
\newcommand*\lstnumberstyle{\ttfamily\scriptsize}
\newlength\lstnumbersep
\setlength\lstnumbersep{8pt}
\newlength\lstnumberwidth
\setlength\lstnumberwidth{\widthof{\lstnumberstyle00}+\lstnumbersep+\lsthorizontalpadding}

\newcommand{\lstdefaultstyle}{
	\lstset{
		numberblanklines=false
		,basicstyle=\ttfamily%
		,breaklines=true%
		,tabsize=1%
		,showstringspaces=false%
		,numbers=left%   
		,numbersep=\lstnumbersep%
		,numberstyle=\lstnumberstyle%
		,framesep=0pt% 
		,xleftmargin=\lstnumberwidth%
		,framexleftmargin=\lsthorizontalpadding%
		,xrightmargin=\lsthorizontalpadding%
		,framexrightmargin=\lsthorizontalpadding%
		,backgroundcolor=\color{verylightgray}%
		,postbreak=\ding{229}\space%
		,escapeinside={*(}{*)}
		\linespread{1.0}
	}
}

% === YAML code listing === 
% comes from https://tex.stackexchange.com/a/152856/108199)


\newcommand\YAMLcolonstyle{\color{red}\mdseries}
\newcommand\YAMLkeystyle{\color{black}\bfseries}
\newcommand\YAMLvaluestyle{\color{blue}\mdseries}

\makeatletter

% here is a macro expanding to the name of the language
% (handy if you decide to change it further down the road)
\newcommand\language@yaml{yaml}

\expandafter\expandafter\expandafter\lstdefinelanguage
\expandafter{\language@yaml}
{
  keywords={true,false,null,y,n},
  keywordstyle=\color{darkgray}\bfseries,
  basicstyle=\YAMLkeystyle,                                 % assuming a key comes first
  sensitive=false,
  comment=[l]{\#},
  morecomment=[s]{/*}{*/},
  commentstyle=\color{purple}\ttfamily,
  stringstyle=\YAMLvaluestyle\ttfamily,
  moredelim=[l][\color{orange}]{\&},
  moredelim=[l][\color{magenta}]{*},
  moredelim=**[il][\YAMLcolonstyle{:}\YAMLvaluestyle]{:},   % switch to value style at :
  morestring=[b]',
  morestring=[b]",
  literate =    {---}{{\ProcessThreeDashes}}3
                {>}{{\textcolor{red}\textgreater}}1     
                {|}{{\textcolor{red}\textbar}}1 
                {\ -\ }{{\mdseries\ -\ }}3,
}

% switch to key style at EOL
\lst@AddToHook{EveryLine}{\ifx\lst@language\language@yaml\YAMLkeystyle\fi}
\makeatother

\newcommand\ProcessThreeDashes{\llap{\color{cyan}\mdseries-{-}-}}


% === Terminal style code listing === 
% comes from https://www.alanshawn.com/tech/2019/09/01/emulate-terminal.html

\usepackage{changepage}    % adjust margins for selected portions
\newlength{\offsetpage}
\setlength{\offsetpage}{1.1cm}
\newenvironment{widepage}{\begin{adjustwidth}{-\offsetpage}{-\offsetpage}%
    \addtolength{\textwidth}{2\offsetpage}}%
{\end{adjustwidth}} % https://tex.stackexchange.com/a/154766/108199


\usepackage{listingsutf8}
\usepackage{pmboxdraw} %for the \textblock
\usepackage[export]{adjustbox}[2011/08/13]

\definecolor{mygreen}{rgb}{0,0.6,0}
\definecolor{mygray}{rgb}{0.5,0.5,0.5}
\definecolor{mymauve}{rgb}{0.58,0,0.82}
\definecolor{terminalbgcolor}{HTML}{330033}
\definecolor{terminalrulecolor}{HTML}{000099}
\newcommand{\lstconsolestyle}{
	\lstset{
		backgroundcolor=\color{terminalbgcolor},
		basicstyle=\color{white}\fontseries{lc}\scriptsize\selectfont,
		breakatwhitespace=false,  
		breaklines=false,
		captionpos=b,
		commentstyle=\color{mygreen},
		deletekeywords={...},
		escapeinside={\%*}{*)},
		extendedchars=true,
		frame=single,
		keepspaces=true,
		keywordstyle=\color{blue},
		%language=none,
		morekeywords={*,...},
		numbers=none,
		numbersep=5pt,
		% inputencoding=utf8,
		literate=%
			{█}{{\textblock}}1
			{▎}{{\textlfblock}}1
			{▏}{{\textlfblock}}1,
		xleftmargin=0pt,
		xrightmargin=0pt,
		framesep=0pt,
		framexleftmargin=0pt,
	framerule=2pt,
		numberstyle=\color{mygray}\tiny\selectfont,
		rulecolor=\color{terminalrulecolor},
		showspaces=false,
		showstringspaces=false,
		showtabs=false,
		stepnumber=2,
		stringstyle=\color{mymauve},
		tabsize=2
	}
}
% TODO: see https://tex.stackexchange.com/questions/129377/unwanted-white-lines-in-listings-environment

\usepackage{float}

% ################################################
% fonts for code-objects etc (taken from BA)

\newcommand{\inlinecode}[1]{\colorbox{verylightgray}{\lstinline[basicstyle=\ttfamily\color{white}]{#1}}}
% \newcommand{\inlinecode}[1]{\colorbox{red}{\lstinline[basicstyle=\ttfamily\color{black}]{#1}}}


\newcommand{\term}[1] {{\spaceskip=.95\fontdimen2\font minus \fontdimen4\font
	\xspaceskip=0pt\relax \large\texttt{#1}}}

\newcommand{\codefunc}[1]{\colorbox{evenmorelightgray}{\lstinline[basicstyle=\ttfamily\color{black},keywordstyle=\ttfamily]{#1}}}

\newcommand{\codeobj}[1]{\colorbox{evenmorelightgray}{{\spaceskip=.95\fontdimen2\font minus \fontdimen4\font	\xspaceskip=0pt\relax \large\texttt{#1}}}}

\newcommand{\codeobjFN}[1]{\colorbox{evenmorelightgray}{{\spaceskip=.95\fontdimen2\font minus \fontdimen4\font	\xspaceskip=0pt\relax \texttt{#1}}}}

\newcommand{\codeother}[1]{\colorbox{evenmorelightgray}{\lstinline[basicstyle=\ttfamily\color{black},keywordstyle=\ttfamily]{#1}}}

\newcommand{\termcmd}[1]{\colorbox{evenmorelightgray}{{\spaceskip=.95\fontdimen2\font minus \fontdimen4\font	\xspaceskip=0pt\relax \large\texttt{#1}}}}




% =====================================
% custom verbatim, see https://tex.stackexchange.com/a/113942/108199
\makeatletter

% this defines myverbatim environment. to change name replace "myverbatim" in all places below (strctly speaing it is only necessary in some but ... :-)

\newdimen\outerparindent
\def\myverbatim{%
% fix for \@noligs as the definition in LaTeX is swallowing any following space
  \def\do@noligs##1{%
     \catcode`##1\active
     \begingroup
       \lccode`\~`##1\relax
       \lowercase{\endgroup\def~{\leavevmode\kern\z@\char`##1 }}}%
% save the \parindent used outside
   \outerparindent\parindent
% I'm lazy reusing existing setup of verbatim as much as possible, so obeylines is my way too hook in
   \def\obeylines{\rightskip=0pt plus 1fil
                  \parindent=\outerparindent  % if you like a defined \parindent value instead set it here
                  \let\par\@@par
                  \leavevmode\indent}%
% different definitions to handle spaces, select one:
   \def\@xobeysp{\penalty\z@\char 32 \penalty\z@}%        % this produces a visible space
%   \let\@xobeysp\space                                    % this version will drop spaces at linebreaks
%   \def\@xobeysp{\penalty\z@\mbox{}\space\penalty\z@}%    % this will keep spaces after line breaks
%
  \@verbatim
  \@myverbatimescape\@myverbatimnewline
  \frenchspacing\@vobeyspaces\@xmyverbatim}

\let\endmyverbatim\endverbatim

% setting up the behavior of end-off-line: on its one behave like a (special) space, 
% two in a row end a paragraph
\begingroup
\catcode`\^^M=\active%
\gdef\@myverbatimnewline{\catcode`\^^M=\active \let^^M\@xmyverbatimnewline}%
\gdef\@xmyverbatimnewline{\@ifnextchar ^^M{\@myverbatimpar}{\@xobeysp}}%
\gdef\@ymyverbatimnewline{\@ifnextchar ^^M{\@myverbatimpar}{}}%
\gdef\@myverbatimpar ^^M{\par%
                         \vskip\baselineskip%     % this line will generate an extra baselineskip per empty line
                                                  % comment out if not wanted
                         \@ymyverbatimnewline}%
% and this part is to get rid of the first ^^M after \begin{verbatim} but not any other
\gdef\@zmyverbatimnewline{\@ifnextchar ^^M{\@zmyverbatimpar}{}}%
\gdef\@zmyverbatimpar^^M{\@ifnextchar ^^M{\@myverbatimpar}{}}%
\endgroup

\begingroup \catcode `|=0 \catcode `[= 1
\catcode`]=2 \catcode `\{=12 \catcode `\}=12
%  to support \\ as a line break we need to make \ active and make a lot of extra horrible definitions:
\catcode`\\=13
|gdef|@myverbatimescape[|catcode`|\|active|let\|@myverbatimbslash]
%  using \@ifnextchar is ok because "space" is active too so isn't gobbled in case of  "\ \"
|gdef|@myverbatimbslash[|@ifnextchar\[|@xmyverbatimbslash][|string\]]
|gdef|@xmyverbatimbslash\[|\]
% a newline char before the end of the environment also needs some special handling therefore the gymnastics
|catcode`|^^M=|active
|long|gdef|@xmyverbatim#1\end{myverbatim}[|@zmyverbatimnewline#1^^M|vskip-|lastskip|vskip|z@skip|end[myverbatim]]%
|endgroup

\makeatother


%=========================
% more custom verbatim, see https://tex.stackexchange.com/a/273850/108199

\newcommand\mytokens[2][gray!20]{\mytokenshelp{#1}#2 \relax\relax \hspace{-0.5em}}
\def\mytokenshelp#1#2 #3\relax{\grayspace\tokenscolor[#1]{#2}\ifx\relax#3\else
 \mytokenshelp{#1}#3\relax\fi}
\newcommand\tokenscolor[2][gray!20]{\colorbox{#1}{\small\textcolor{black}{%
  \ttfamily\mystrut\smash{\detokenize{#2}\allowbreak}}}}
\def\mystrut{\rule[\dimexpr-\dp\strutbox+\fboxsep]{0pt}{%
 \dimexpr\normalbaselineskip-2\fboxsep}}
\def\grayspace{\hspace{0pt minus \fboxsep}}

\newcommand\mytokensfnote[2][gray!20]{\mytokensfnotehelp{#1}#2 \relax\relax \hspace{-0.1em}}
\def\mytokensfnotehelp#1#2 #3\relax{\grayspace\tokensfootnotecolor[#1]{#2}\ifx\relax#3\else
 \mytokensfnotehelp{#1}#3\relax\fi}
\newcommand\tokensfootnotecolor[2][gray!20]{\colorbox{#1}{\scriptsize\textcolor{black}{%
  \ttfamily\mystrut\smash{\detokenize{#2}\allowbreak}}}}


% https://tex.stackexchange.com/a/296946/108199


\newcommand*{\txtbrut}{\lstinline[basicstyle=\ttfamily]}%
\newcommand\alttxtbrut[1]{\tbhelp#1\relax\relax\relax}
\def\tbhelp#1#2\relax{%
  {\texttt{\detokenize{#1}}}\penalty0\ifx\relax#2\else\tbhelp#2\relax\fi}



% ##################################################################################
% specialstuff mentioned later
\usepackage{xspace} % https://tex.stackexchange.com/a/31092/108199
\newcommand{\mainalgos}{\cite{Derrac2015,Ager2018,Alshaikh2020}\xspace}


\input{special_highlight.tex}

% If we add the \NoMarkdown at compilation, we won't use any of the \@input. See https://tex.stackexchange.com/a/220101/108199, https://tex.stackexchange.com/a/33577/108199
\ifdefined\NoMarkdown
	\newcommand{\includeMD}[1]{\ignorespaces}
	\newcommand{\todoparagraph}[1]{\ignorespaces}	
\else
	\makeatletter
	\newcommand{\includeMD}[1]{\color{gray} \input{#1} \color{black}}
	% \let\includeMD\input
	\newcommand{\todoparagraph}[1]{\highlight[red]{#1}}
\fi

% let ALL paragraphs not have an indent but an empty line between
\setlength{\parindent}{0pt}
\setlength{\parskip}{0.8ex}
\RedeclareSectionCommand[beforeskip=-2.5ex plus -1ex minus -.2ex,
						 afterskip=3.3ex plus -.2ex]{chapter}
\RedeclareSectionCommand[beforeskip=-2.5ex plus -1ex minus -.2ex,
						 afterskip=1ex plus -.2ex]{section}
\RedeclareSectionCommand[beforeskip=-1.5ex plus -1ex minus -.2ex,
						 afterskip=0.5ex plus -.2ex]{subsection}
\RedeclareSectionCommand[beforeskip=-1ex plus -1ex minus -.2ex,
						 afterskip=0.5ex plus -.2ex]{subsubsection}					 
\RedeclareSectionCommand[beforeskip=-0.5ex plus -1ex minus -.2ex]{paragraph}		
% https://tex.stackexchange.com/a/469110/108199


\usepackage{nameref} % comment of https://tex.stackexchange.com/a/253961/108199

\newcommand*{\fullref}[1]{\hyperref[{#1}]{\autoref*{#1} \nameref*{#1}}} % One single link

\newcommand*{\nameparanref}[1]{\hyperref[{#1}]{\ref{#1} (\nameref*{#1})}} 


% ================= make titles link back to toc =================
% https://tex.stackexchange.com/a/251964/108199

\AtBeginDocument{\colorlet{defaultcolor}{.}}

\makeatletter
\let\hyperchapter\chapter
\def\chapter{\@ifstar\starchapter\mychapter}
\def\starchapter{\hyperchapter*}
\newcommand{\mychapter}[2][\@empty]% #1=optional (toc and top of page), #2=title
{\ifx#1\@empty \hyperchapter[#2]{\hyperlink{toc.chapter.\thechapter}{\textcolor{defaultcolor}{#2}}}
 \else \hyperchapter[#1]{\hyperlink{toc.chapter.\thechapter}{\textcolor{defaultcolor}{#2}}}
 \fi}

\let\hypersection\section
\def\section{\@ifstar\starsection\mysection}
\def\starsection{\hypersection*}
\newcommand{\mysection}[2][\@empty]% #1=optional (toc), #2=title
{\ifx#1\@empty \hypersection[#2]{\hyperlink{toc.section.\thesection}{\textcolor{defaultcolor}{#2}}}
 \else \hypersection[#1]{\hyperlink{toc.section.\thesection}{\textcolor{defaultcolor}{#2}}}
 \fi}

\let\hypersubsection\subsection
\def\subsection{\@ifstar\starsubsection\mysubsection}
\def\starsubsection{\hypersubsection*}
\newcommand{\mysubsection}[2][\@empty]% #1=optional (toc), #2=title
{\ifx#1\@empty \hypersubsection[#2]{\hyperlink{toc.subsection.\thesubsection}{\textcolor{defaultcolor}{#2}}}
\else \hypersubsection[#1]{\hyperlink{toc.subsection.\thesubsection}{\textcolor{defaultcolor}{#2}}}
\fi}


\renewcommand{\date}[3]{\DTMdisplaydate{#1}{#2}{#3}{-1}}

\makeatother

% ====================================================================

% #########################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################

\renewcommand{\baselinestretch}{1.2}

\makeatletter

\begin{document}

\let\hypercontentsline=\contentsline
\renewcommand{\contentsline}[4]{\hypertarget{toc.#4}{}\hypercontentsline{#1}{#2}{#3}{#4}}
% above 2: https://tex.stackexchange.com/a/251964/108199

\cleardoublepage
\pagestyle{plain} %for the headers & footers


\begin{titlepage}
	\begin{flushleft}
		Universität Osnabrück\\
		Fachbereich Humanwissenschaften\\
		Institute of Cognitive Science
	\end{flushleft}

	\vspace{2cm}
	\centering{
		Master's thesis\vspace{1cm}\\
		\textbf{\Large{\MyTitle}}
		\vspace{1cm}\\
		\begin{tabular}{c}
			\MyAuthor                          \\
			955004                             \\
			Master's Program Cognitive Science \\
			April 2017 - April 2022
		\end{tabular}}
	\vspace{1cm}

	\begin{tabular}{ll}
		First supervisor:  & Dr. Tobias Thelen          \\
		                   & Institute of Cognitive Science \\
		                   & University of Osnabrück  \\\\
		Second supervisor: & Johannes Schrumpf, M.Sc.         \\
		                   & Institute of Cognitive Science \\
		                   & Osnabrück
	\end{tabular}

\end{titlepage}


\chapter*{Declaration of Authorship}
I hereby certify that the work presented here is, to the best of my knowledge and belief, original and the result of my own investigations, except as acknowledged, and has not been submitted, either in part or whole, for a degree at this or any other university.

\namesigdate
\pagenumbering{gobble}
\pagebreak

\begin{abstract}
	\textbf{\LARGE{Abstract}}\\\\
	The number of available eductional resources keeps rising just as the liberty for students to create a custom curriculum, making recommendation in this sector ever more important. There is the need for a methodology to structure these resources unsupervisedly to allow for explainable recommendation, where users can explicitly demand features such as the degree how mathematical a course should be. Conceptual Spaces allow to embed resources into a vector space whose quality dimensions correspond to salient semantic features, but generating them reliably is an open question. This thesis replicates a method to create these spaces in a data-driven way from their descriptions and applies it to a given dataset of that domain to explore its applicability. Our preliminary results show that human categories such as the faculty a course belongs to are among the detected salient directions. Further qualitative analysis also indicates that the embeddings capture important features that can be used in interpretable classification and explainable recommendation. Additionally, a scalable and modular architecture for the algorithm is created. It is shown that it can be applied to other datasets or algorithms that differ in some components from the given one. A workflow is implemented and described to run the algorithm efficiently on compute clusters. The full implementation is open-sourced to allow easier future research on related problems. 
	\includeMD{pandoc_generated_latex/0_0_abstract}
\end{abstract}




\tableofcontents
\listoffigures
\listoftables
% \listofalgorithms  % https://tex.stackexchange.com/a/100382/108199 #TODO: list-of-algorithms wieder rein?
\renewcommand{\lstlistlistingname}{List of Code-Listings}
\lstlistoflistings %only those with a caption will be listed!

\pagestyle{scrheadings}

\cleardoublepage
\pagenumbering{arabic} % https://tex.stackexchange.com/a/313306/108199 https://tex.stackexchange.com/a/154666/108199

% #########################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################


%----------------------------------------------------------------------------------------
%	THESIS CONTENT - MAIN PART
%----------------------------------------------------------------------------------------


% INTRO
	% Broad - "Initialkontextualisierung" - warum mach ich das, aus was für ner domain kommen die daten, was will ich damit machen (use rrecommendation, ich bau AI part, ..)
	\include{Chapters/01-intro.tex}

% BACKGROUND
	% (zuspitzung von generell auf spezifisch, sowohl technisch (conceputalspaces -> was macht das paper konkret), (und bei dem anderen teil was sind educational resources, was sind die schwierigkeiten dabei, warum möchte man überhaupt empfehlen))
	% - Anwendungsfall (->e-learning, recommenden von bildungsressourcen, ...) -> nicht-technisch, aber nötig zum verstehen wo passiert das
    % - was sind conceputal spaces
    % - Wie funktioniert die Idee des data-driven generieren
	% bei 60 Seiten sollten 15 Seiten theoretical Background sein
	% Was zu viel ist lieber als "Munition für Discussion" (wenn meine ergebnisse anders sind als die von dem paper kann ich halt erst dann sagen "das widerspricht demunddem hier, die proposen dass und ich kann es (nicht) confirmen".)
	\include{Chapters/02-background.tex}

%METHODS
	%(Algorithmus & Datensatz)
    % - Was für Schritte hat der Algo
    % - Empirie, auch specifics über den Datensatz
	\include{Chapters/03-methods.tex}

%RESULTS
	\include{Chapters/04-results.tex}

%DISCUSSION
	% (was sind die broaden takeaways von meinem Kram)
	% * Nochmal nen theoretisches Embedding, Kontextualisieren für Bildungsressourcen
	% * ...and conclusion
	\include{Chapters/05-discussion.tex}


% \chapter*{Acknowledgements}
%TODO A place to say thank you to everybody who helped you.

%=======================================================
% Glossaries


%TODO: If I don't want to have a COMPLETE pagelist, see https://tex.stackexchange.com/q/246818/108199
\renewcommand*{\arraystretch}{1.8}
\chapter*{Glossary}
\vspace{-5ex}
\addcontentsline{toc}{chapter}{Glossary}
\label{sec:glossary}
\glsaddallunused
\printglossary[type=defs,         title=Definitions, toctitle=List of Definitions, style=long3colheaderMINE, nogroupskip]
\printglossary[type=customs,      title=Custom Terms, toctitle=Custom Terms used in this thesis, style=long3colheaderMINE, nogroupskip]
% \printglossary[type=units,        title=Units,       toctitle=Units,      style=3colger]
\vspace{0.5cm}
\renewcommand*{\arraystretch}{1}
\printglossary[type=symbols,      title=Symbols,     toctitle=List of Symbols, nogroupskip]
\vspace{0.5cm}
% \printglossary[type=\acronymtype, title=Acronyms,    toctitle=List of Acronyms, style=2colacro, nonumberlist]
\printglossary[type=\acronymtype, title=Acronyms,    toctitle=List of Acronyms, nogroupskip] 


%----------------------------------------------------------------------------------------
%	THESIS CONTENT - APPENDICES
%----------------------------------------------------------------------------------------
	
	\appendix % Cue to tell LaTeX that the following "chapters" are Appendices
	\addtokomafont{section}{\LARGE}
	\addtokomafont{subsection}{\Large}
	\addtokomafont{subsubsection}{\large}
	%TODO: header is wrong from appendix C on >.<

	\cleardoubleoddpage
	\phantomsection
	\addcontentsline{toc}{part}{\appendixname}
	\setchapterpreamble[o]{% siehe KOMA-Script-Anleitung
	\usekomafont{disposition}\usekomafont{part} \appendixname\bigskip} 	% the three above are to show the appendix as section, see https://golatex.de/viewtopic.php?p=22119&sid=ebe25f27fce1765ab7d8b1d2e91ee979#p22119

	% Include the appendices of the thesis as separate files from the Appendices folder
	% Uncomment the lines as you write the Appendices
	
	\input{Appendices/AppendixA} %have to use input and not include, otherwise the order of "Appendix" and the first appendix is wrong
	\input{Appendices/AppendixB}
	\input{Appendices/AppendixC}
	\input{Appendices/AppendixD}


	\cleardoublepage
\pagestyle{plain}
\bookmarksetup{startatroot} 

\printbibliography[heading=bibintoc]

\end{document}